{"ast":null,"code":"import _slicedToArray from\"/Users/zacharygarrett/Desktop/course_work/user_hub_react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import ReactDOM from'react-dom';import{BrowserRouter as Router,Route,Switch,Redirect}from'react-router-dom';import{Header,UserPosts,UserTodos}from'./components';import{getUsers,getPostsByUser,getTodosByUser}from'./api';import{getCurrentUser}from'./auth';var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setUserList=_useState2[1];var _useState3=useState(getCurrentUser()),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userPosts=_useState6[0],setUserPosts=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),userTodos=_useState8[0],setUserTodos=_useState8[1];useEffect(function(){getUsers().then(function(users){setUserList(users);}).catch(function(error){console.error(error);});},[]);useEffect(function(){if(!currentUser){setUserPosts([]);setUserTodos([]);return;}getPostsByUser(currentUser.id).then(function(posts){setUserPosts(posts);}).catch(function(error){console.error(error);});getTodosByUser(currentUser.id).then(function(todos){setUserTodos(todos);}).catch(function(error){console.error(error);});},[currentUser]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"App\",children:[/*#__PURE__*/_jsx(Header,{userList:userList,currentUser:currentUser,setCurrentUser:setCurrentUser}),currentUser?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/posts\",children:/*#__PURE__*/_jsx(UserPosts,{userPosts:userPosts,currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{path:\"/todos\",children:/*#__PURE__*/_jsx(UserTodos,{userTodos:userTodos,currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsxs(\"h2\",{style:{padding:\".5em\"},children:[\"Welcome, \",currentUser.username,\"!\"]})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(\"h2\",{style:{padding:\".5em\"},children:\"Please log in, above.\"})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]})})]})});};ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById('root'));","map":{"version":3,"sources":["/Users/zacharygarrett/Desktop/course_work/user_hub_react/src/index.js"],"names":["React","useState","useEffect","ReactDOM","BrowserRouter","Router","Route","Switch","Redirect","Header","UserPosts","UserTodos","getUsers","getPostsByUser","getTodosByUser","getCurrentUser","App","userList","setUserList","currentUser","setCurrentUser","userPosts","setUserPosts","userTodos","setUserTodos","then","users","catch","error","console","id","posts","todos","padding","username","render","document","getElementById"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom';\n\nimport {\n  Header,\n  UserPosts,\n  UserTodos\n} from './components';\n\nimport {\n  getUsers,\n  getPostsByUser,\n  getTodosByUser\n} from './api';\n\nimport {\n    getCurrentUser\n  } from './auth';\n\nconst App = () => {\n  const [userList, setUserList] = useState([]);\n  const [currentUser, setCurrentUser] = useState(getCurrentUser());\n  const [userPosts, setUserPosts] = useState([]);\n  const [userTodos, setUserTodos] = useState([]);\n\n  useEffect(() => {\n    getUsers()\n      .then(users => {\n        setUserList(users)\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (!currentUser) {\n      setUserPosts([]);\n      setUserTodos([]);\n      return;\n    }\n\n    getPostsByUser(currentUser.id)\n      .then(posts => {\n        setUserPosts(posts);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n\n    getTodosByUser(currentUser.id)\n      .then(todos => {\n        setUserTodos(todos);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }, [currentUser]);\n\n  return (\n    <Router>\n      <div id=\"App\">\n        <Header\n          userList={ userList }\n          currentUser={ currentUser }\n          setCurrentUser={ setCurrentUser } />\n        {\n          currentUser\n          ? <>\n              <Switch>\n                <Route path=\"/posts\">\n                  <UserPosts\n                    userPosts={ userPosts }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route path=\"/todos\">\n                  <UserTodos\n                    userTodos={ userTodos }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Welcome, { currentUser.username }!</h2>\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n            </>\n          : <>\n              <Switch>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Please log in, above.</h2>\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n            </>\n        }\n      </div>\n    </Router>\n  );\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}